# 视频水印工具 - 快速开始指南

## 🚀 快速安装

### 1. 安装FFmpeg
```bash
# 运行自动安装脚本
./install_ffmpeg.sh

# 或手动安装
sudo apt-get update
sudo apt-get install ffmpeg
```

### 2. 验证安装
```bash
ffmpeg -version
```

## 🎬 使用方法

### 基本语法
```bash
python3 simple_video_watermark.py <输入文件/目录> [选项]
```

### 常用命令示例

#### 1. 添加文字水印
```bash
# 基本文字水印
python3 simple_video_watermark.py input.mp4 -o output.mp4 -t text --text "我的水印"

# 自定义样式
python3 simple_video_watermark.py input.mp4 -o output.mp4 -t text \
    --text "版权保护" \
    --position bottom-right \
    --font-size 32 \
    --font-color red \
    --background-color "black@0.8"
```

#### 2. 添加图片水印
```bash
python3 simple_video_watermark.py input.mp4 -o output.mp4 -t image \
    --image logo.png \
    --position top-left \
    --opacity 0.7 \
    --scale 0.3
```

#### 3. 批量处理
```bash
# 批量处理目录中的所有视频
python3 simple_video_watermark.py videos/ -o watermarked_videos/ --batch -t text --text "批量水印"
```

#### 4. 查看视频信息
```bash
python3 simple_video_watermark.py input.mp4 --info
```

## 📋 参数说明

### 水印位置 (--position)
- `top-left`: 左上角
- `top-right`: 右上角  
- `bottom-left`: 左下角
- `bottom-right`: 右下角
- `center`: 居中

### 水印类型 (--type)
- `text`: 文字水印
- `image`: 图片水印
- `transparent`: 透明重复水印

### 常用参数
- `--text`: 水印文字内容
- `--image`: 水印图片路径
- `--position`: 水印位置
- `--font-size`: 字体大小
- `--font-color`: 字体颜色
- `--background-color`: 背景颜色和透明度
- `--opacity`: 透明度 (0.0-1.0)
- `--scale`: 缩放比例
- `--margin`: 边距
- `--batch`: 批量处理模式

## 🎯 使用场景

### 1. 版权保护
```bash
python3 simple_video_watermark.py video.mp4 -o protected.mp4 -t text \
    --text "© 2024 My Company" \
    --position bottom-right \
    --font-size 20 \
    --font-color white \
    --background-color "black@0.7"
```

### 2. 品牌Logo
```bash
python3 simple_video_watermark.py video.mp4 -o branded.mp4 -t image \
    --image company_logo.png \
    --position top-right \
    --opacity 0.8 \
    --scale 0.15
```

### 3. 批量处理
```bash
python3 simple_video_watermark.py videos/ -o watermarked/ --batch -t text \
    --text "内部使用" \
    --position bottom-left \
    --font-size 24
```

## 🔧 故障排除

### 问题1: FFmpeg未找到
```bash
# 检查FFmpeg
ffmpeg -version

# 如果未安装，运行安装脚本
./install_ffmpeg.sh
```

### 问题2: 权限不足
```bash
# 给脚本添加执行权限
chmod +x simple_video_watermark.py
chmod +x install_ffmpeg.sh
```

### 问题3: 视频格式不支持
- 支持格式: MP4, AVI, MOV, MKV, WMV, FLV, WebM
- 如果遇到问题，可以先用FFmpeg转换格式

## 📁 文件结构

```
/workspace/
├── simple_video_watermark.py    # 简化版水印工具
├── video_watermark.py           # 完整版水印工具
├── install_ffmpeg.sh           # FFmpeg安装脚本
├── quick_start_watermark.py    # 交互式快速开始
├── test_video_watermark.py     # 测试脚本
└── README_视频水印工具.md       # 详细文档
```

## 🎉 开始使用

1. **安装FFmpeg**: `./install_ffmpeg.sh`
2. **准备视频文件**: 将视频放在当前目录
3. **添加水印**: `python3 simple_video_watermark.py video.mp4 -t text --text "我的水印"`
4. **查看结果**: 检查生成的 `video_watermarked.mp4` 文件

## 💡 提示

- 处理大视频文件可能需要较长时间
- 建议先用小文件测试参数
- 批量处理时确保有足够的磁盘空间
- 输出文件会覆盖同名文件，请注意备份

## 🆘 获取帮助

```bash
# 查看帮助信息
python3 simple_video_watermark.py --help

# 查看详细文档
cat README_视频水印工具.md
```